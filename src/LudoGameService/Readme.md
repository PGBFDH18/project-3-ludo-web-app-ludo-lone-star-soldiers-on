Everything in this lib is just hastily put together and in need of refactoring.